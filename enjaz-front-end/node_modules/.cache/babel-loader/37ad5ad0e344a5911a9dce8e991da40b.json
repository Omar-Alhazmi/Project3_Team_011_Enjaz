{"ast":null,"code":"import _defineProperty from\"/Users/mac/sei/projects/Project3_Team_011_Enjaz/enjaz-front-end/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/Users/mac/sei/projects/Project3_Team_011_Enjaz/enjaz-front-end/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/mac/sei/projects/Project3_Team_011_Enjaz/enjaz-front-end/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/mac/sei/projects/Project3_Team_011_Enjaz/enjaz-front-end/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/mac/sei/projects/Project3_Team_011_Enjaz/enjaz-front-end/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _assertThisInitialized from\"/Users/mac/sei/projects/Project3_Team_011_Enjaz/enjaz-front-end/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/Users/mac/sei/projects/Project3_Team_011_Enjaz/enjaz-front-end/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from\"react\";import axios from\"axios\";import{getInfo}from\"./decodeToken\";import\"./login.css\";var Login=/*#__PURE__*/function(_Component){_inherits(Login,_Component);function Login(props){var _this;_classCallCheck(this,Login);_this=_possibleConstructorReturn(this,_getPrototypeOf(Login).call(this,props));_this.state={empUsername:\"\",password:\"\"};_this.change=_this.change.bind(_assertThisInitialized(_this));_this.submit=_this.submit.bind(_assertThisInitialized(_this));return _this;}_createClass(Login,[{key:\"change\",value:function change(e){this.setState(_defineProperty({},e.target.name,e.target.value));}},{key:\"submit\",value:function submit(e){var _this2=this;e.preventDefault();axios.post(\"http://localhost:5000/api/emp/login\",{empUsername:this.state.empUsername,password:this.state.password}).then(function(res){console.warn(\"res\",res);localStorage.setItem(\"currentUser\",res.data.token);var jwt1=getInfo().data.admin;if(jwt1===true){console.log(\"a:\",jwt1);_this2.props.history.push(\"/AdminHeader\");}else if(jwt1===false){console.log(\"B:\",jwt1);_this2.props.history.push(\"/EmpHeader\");}else if(jwt1===undefined){console.log(\"b: \",jwt1);_this2.props.history.push(\"/\");}return res;}).catch(function(error){console.log(\"ERROR: \",error);});}},{key:\"render\",value:function render(){var _this3=this;return React.createElement(\"div\",{class:\"container\",onclick:\"onclick\"},React.createElement(\"div\",{class:\"top\"}),React.createElement(\"div\",{class:\"bottom\"}),React.createElement(\"div\",{class:\"center\"},React.createElement(\"h2\",null,\"Please Sign In\"),React.createElement(\"form\",{onSubmit:function onSubmit(e){return _this3.submit(e);}},React.createElement(\"input\",{type:\"text\",name:\"empUsername\",onChange:function onChange(e){return _this3.change(e);},value:this.state.empUsername}),React.createElement(\"input\",{type:\"password\",placeholder:\"password\",name:\"password\",onChange:function onChange(e){return _this3.change(e);},value:this.state.password}),React.createElement(\"button\",{type:\"submit\"},\"Submit\")),React.createElement(\"h2\",null,\"\\xA0\")));}}]);return Login;}(Component);export default Login;","map":{"version":3,"sources":["/Users/mac/sei/projects/Project3_Team_011_Enjaz/enjaz-front-end/src/components/login/Login.js"],"names":["React","Component","axios","getInfo","Login","props","state","empUsername","password","change","bind","submit","e","setState","target","name","value","preventDefault","post","then","res","console","warn","localStorage","setItem","data","token","jwt1","admin","log","history","push","undefined","catch","error"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport axios from \"axios\";\nimport { getInfo } from \"./decodeToken\";\n\nimport \"./login.css\";\n\nclass Login extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      empUsername: \"\",\n      password: \"\"\n    };\n\n    this.change = this.change.bind(this);\n    this.submit = this.submit.bind(this);\n  }\n\n  change(e) {\n    this.setState({\n      [e.target.name]: e.target.value\n    });\n  }\n\n  submit(e) {\n    e.preventDefault();\n\n    axios\n      .post(\"http://localhost:5000/api/emp/login\", {\n        empUsername: this.state.empUsername,\n        password: this.state.password\n      })\n      .then(res => {\n        console.warn(\"res\", res);\n        localStorage.setItem(\"currentUser\", res.data.token);\n        let jwt1 = getInfo().data.admin;\n\n        if (jwt1 === true) {\n          console.log(\"a:\", jwt1);\n          this.props.history.push(\"/AdminHeader\");\n        } else if (jwt1 === false) {\n          console.log(\"B:\", jwt1);\n          this.props.history.push(\"/EmpHeader\");\n        } else if (jwt1 === undefined) {\n          console.log(\"b: \", jwt1);\n          this.props.history.push(\"/\");\n        }\n\n        return res;\n      })\n      .catch(error => {\n        console.log(\"ERROR: \", error);\n      });\n  }\n\n  render() {\n  \n    return (\n      \n      <div class=\"container\" onclick=\"onclick\">\n        <div class=\"top\"></div>\n        <div class=\"bottom\"></div>\n        <div class=\"center\">\n          <h2>Please Sign In</h2>\n          <form onSubmit={e => this.submit(e)}>\n            <input\n              type=\"text\"\n              name=\"empUsername\"\n              onChange={e => this.change(e)}\n              value={this.state.empUsername}\n            />\n            <input\n              type=\"password\"\n              placeholder=\"password\"\n              name=\"password\"\n              onChange={e => this.change(e)}\n              value={this.state.password}\n            />\n            <button type=\"submit\">Submit</button>\n          </form>\n          <h2>&nbsp;</h2>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Login;\n"]},"metadata":{},"sourceType":"module"}