{"ast":null,"code":"var _jsxFileName = \"/Users/mac/sei/projects/Project3_Team_011_Enjaz/enjaz-front-end/src/components/HistoryTickets/HistoryTickets.js\";\n//HistoryTickets\nimport React from \"react\";\nimport HistoryTicket from './HistoryTicket';\nimport \"../Ticket/Tickets.css\";\nimport { getAllTicket, deleteTicket } from \"../api\";\nexport default class HistoryTickets extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.deleteOneTicket = id => {\n      deleteTicket(id).then(res => {\n        const newList = this.state.Tickets.filter(Ticket => {\n          return Ticket._id !== id;\n        });\n        this.setState({\n          history: newList\n        });\n      }).catch(err => {});\n    };\n\n    this.state = {\n      history: null\n    };\n  }\n\n  componentDidMount() {\n    // Mack API call to det all the Ticket of closed state \n    getAllTicket().then(reponse => {\n      console.log(\"reponse.data\", reponse.data);\n      const history = reponse.data.filter(Ticket => {\n        if (Ticket.TicketState === \"closed\") {\n          return reponse.data;\n        }\n      });\n      this.setState({\n        history\n      });\n    }).catch(error => {\n      console.log(\" API error: \", error);\n    });\n  }\n\n  render() {\n    let History = React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46\n      },\n      __self: this\n    }, \" No History Tickets.. \");\n\n    if (this.state.history !== null) {\n      History = this.state.history.map((Tickets, index) => {\n        return React.createElement(HistoryTicket, {\n          id: Tickets._id,\n          TicketType: Tickets.TicketType,\n          TicketState: Tickets.TicketState,\n          deleteOneTicket: this.deleteOneTicket,\n          TicketDescription: Tickets.TicketDescription,\n          key: index,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 50\n          },\n          __self: this\n        });\n      });\n    }\n\n    return React.createElement(\"div\", {\n      className: \"content\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61\n      },\n      __self: this\n    }, \"History Ticket\"), React.createElement(\"ul\", {\n      className: \"timeline\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62\n      },\n      __self: this\n    }, History), React.createElement(\"button\", {\n      onClick: this.props.toggle,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    }, \" Go back \"));\n  }\n\n}","map":{"version":3,"sources":["/Users/mac/sei/projects/Project3_Team_011_Enjaz/enjaz-front-end/src/components/HistoryTickets/HistoryTickets.js"],"names":["React","HistoryTicket","getAllTicket","deleteTicket","HistoryTickets","Component","constructor","props","deleteOneTicket","id","then","res","newList","state","Tickets","filter","Ticket","_id","setState","history","catch","err","componentDidMount","reponse","console","log","data","TicketState","error","render","History","map","index","TicketType","TicketDescription","toggle"],"mappings":";AAAA;AACA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,aAAP,MAA0B,iBAA1B;AACA,OAAO,uBAAP;AACA,SAASC,YAAT,EAAwBC,YAAxB,QAA4C,QAA5C;AAEA,eAAe,MAAMC,cAAN,SAA6BJ,KAAK,CAACK,SAAnC,CAA6C;AAExDC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf,UAAMA,KAAN;;AADe,SAwBnBC,eAxBmB,GAwBAC,EAAD,IAAQ;AACtBN,MAAAA,YAAY,CAACM,EAAD,CAAZ,CACKC,IADL,CACWC,GAAD,IAAS;AACX,cAAMC,OAAO,GAAG,KAAKC,KAAL,CAAWC,OAAX,CAAmBC,MAAnB,CAA2BC,MAAD,IAAY;AAClD,iBAAOA,MAAM,CAACC,GAAP,KAAeR,EAAtB;AACH,SAFe,CAAhB;AAGA,aAAKS,QAAL,CAAc;AAAEC,UAAAA,OAAO,EAAEP;AAAX,SAAd;AACH,OANL,EAOKQ,KAPL,CAOYC,GAAD,IAAS,CACf,CARL;AASH,KAlCkB;;AAEf,SAAKR,KAAL,GAAa;AACTM,MAAAA,OAAO,EAAE;AADA,KAAb;AAGH;;AAGDG,EAAAA,iBAAiB,GAAG;AAChB;AACApB,IAAAA,YAAY,GACPQ,IADL,CACUa,OAAO,IAAI;AACbC,MAAAA,OAAO,CAACC,GAAR,CAAY,cAAZ,EAA4BF,OAAO,CAACG,IAApC;AACA,YAAMP,OAAO,GAAGI,OAAO,CAACG,IAAR,CAAaX,MAAb,CAAoBC,MAAM,IAAI;AAC1C,YAAIA,MAAM,CAACW,WAAP,KAAuB,QAA3B,EAAqC;AACjC,iBAAOJ,OAAO,CAACG,IAAf;AACH;AACJ,OAJe,CAAhB;AAKA,WAAKR,QAAL,CAAc;AAAEC,QAAAA;AAAF,OAAd;AACH,KATL,EAUKC,KAVL,CAUWQ,KAAK,IAAI;AACZJ,MAAAA,OAAO,CAACC,GAAR,CAAY,cAAZ,EAA4BG,KAA5B;AACH,KAZL;AAaH;;AAaDC,EAAAA,MAAM,GAAE;AACJ,QAAIC,OAAO,GAAG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gCAAd;;AACA,QAAG,KAAKjB,KAAL,CAAWM,OAAX,KAAuB,IAA1B,EAAgC;AAC5BW,MAAAA,OAAO,GAAE,KAAKjB,KAAL,CAAWM,OAAX,CAAmBY,GAAnB,CAAwB,CAACjB,OAAD,EAAWkB,KAAX,KAAoB;AACrD,eACA,oBAAC,aAAD;AACA,UAAA,EAAE,EAAElB,OAAO,CAACG,GADZ;AAEA,UAAA,UAAU,EAAEH,OAAO,CAACmB,UAFpB;AAGA,UAAA,WAAW,EAAEnB,OAAO,CAACa,WAHrB;AAIA,UAAA,eAAe,EAAE,KAAKnB,eAJtB;AAKA,UAAA,iBAAiB,EAAEM,OAAO,CAACoB,iBAL3B;AAMA,UAAA,GAAG,EAAEF,KANL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADA;AASH,OAVY,CAAT;AAUD;;AACL,WACI;AAAK,MAAA,SAAS,EAAC,SAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBADJ,EAEI;AAAI,MAAA,SAAS,EAAC,UAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACCF,OADD,CAFJ,EAKA;AAAQ,MAAA,OAAO,EAAE,KAAKvB,KAAL,CAAW4B,MAA5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBALA,CADJ;AAQD;;AA5DuD","sourcesContent":["//HistoryTickets\nimport React from \"react\";\nimport HistoryTicket from './HistoryTicket'\nimport \"../Ticket/Tickets.css\";\nimport { getAllTicket , deleteTicket } from \"../api\";\n\nexport default class HistoryTickets extends React.Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            history: null,\n        };\n    }\n\n\n    componentDidMount() {\n        // Mack API call to det all the Ticket of closed state \n        getAllTicket()\n            .then(reponse => {\n                console.log(\"reponse.data\", reponse.data);\n                const history = reponse.data.filter(Ticket => {\n                    if (Ticket.TicketState === \"closed\") {\n                        return reponse.data;\n                    }\n                });\n                this.setState({ history });\n            })\n            .catch(error => {\n                console.log(\" API error: \", error);\n            });\n    }\n    deleteOneTicket = (id) => {\n        deleteTicket(id)\n            .then((res) => {\n                const newList = this.state.Tickets.filter((Ticket) => {\n                    return Ticket._id !== id;\n                });\n                this.setState({ history: newList });\n            })\n            .catch((err) => {\n            })\n    }\n\n    render(){\n        let History = <h3> No History Tickets.. </h3>\n        if(this.state.history !== null ){\n            History= this.state.history.map( (Tickets , index)=> {\n            return(\n            <HistoryTicket \n            id={Tickets._id}\n            TicketType={Tickets.TicketType}\n            TicketState={Tickets.TicketState}\n            deleteOneTicket={this.deleteOneTicket}\n            TicketDescription={Tickets.TicketDescription}\n            key={index} /> \n            );\n        })}\n      return(\n          <div className=\"content\">\n              <h2>History Ticket</h2>\n              <ul className=\"timeline\">\n              {History}\n          </ul>\n          <button onClick={this.props.toggle} > Go back </button>\n          </div>);\n    }\n\n\n}"]},"metadata":{},"sourceType":"module"}