{"ast":null,"code":"import _classCallCheck from\"/Users/mac/sei/projects/Project3_Team_011_Enjaz/enjaz-front-end/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/mac/sei/projects/Project3_Team_011_Enjaz/enjaz-front-end/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/mac/sei/projects/Project3_Team_011_Enjaz/enjaz-front-end/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/mac/sei/projects/Project3_Team_011_Enjaz/enjaz-front-end/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/mac/sei/projects/Project3_Team_011_Enjaz/enjaz-front-end/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";//ALL  Tickets \nimport React from'react';import Ticket from'./Ticket';import{getAllTicket,closeTicket}from'../api';import'./Tickets.css';var Tickets=/*#__PURE__*/function(_React$Component){_inherits(Tickets,_React$Component);function Tickets(props){var _this;_classCallCheck(this,Tickets);_this=_possibleConstructorReturn(this,_getPrototypeOf(Tickets).call(this,props));_this.closeOneTicket=function(id){// Make an API Call to close a ticket\ncloseTicket(id).then(function(res){var newList=_this.state.Tickets.filter(function(Ticket){return Ticket._id!==id;});_this.setState({Tickets:newList});}).catch(function(err){});};_this.state={Tickets:null};return _this;}_createClass(Tickets,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;// Mack API call to det all the Ticket that not have closed state  \ngetAllTicket().then(function(repose){console.log('repose.data',repose.data);var Tickets=repose.data.filter(function(Ticket){if(Ticket.TicketState!=='closed'){return repose.data;}});_this2.setState({Tickets:Tickets});}).catch(function(error){console.log(' API error: ',error);});}},{key:\"render\",value:function render(){var _this3=this;var allTickets=React.createElement(\"h3\",null,\" No Tickets! :( \");if(this.state.Tickets!==null){allTickets=this.state.Tickets.map(function(Tickets,index){return React.createElement(Ticket,{id:Tickets._id,TicketType:Tickets.TicketType,TicketState:Tickets.TicketState,TicketDescription:Tickets.TicketDescription,closeOneTicket:_this3.closeOneTicket,key:index});});}return React.createElement(\"div\",{className:\"content\"},React.createElement(\"h2\",null,\"ALL Ticket\"),React.createElement(\"ul\",{className:\"timeline\"},allTickets));}}]);return Tickets;}(React.Component);export{Tickets as default};","map":{"version":3,"sources":["/Users/mac/sei/projects/Project3_Team_011_Enjaz/enjaz-front-end/src/components/Ticket/Tickets.js"],"names":["React","Ticket","getAllTicket","closeTicket","Tickets","props","closeOneTicket","id","then","res","newList","state","filter","_id","setState","catch","err","repose","console","log","data","TicketState","error","allTickets","map","index","TicketType","TicketDescription","Component"],"mappings":"45BAAA;AACA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,MAAP,KAAmB,UAAnB,CACA,OAASC,YAAT,CAAwBC,WAAxB,KAA2C,QAA3C,CACA,MAAO,eAAP,C,GACqBC,CAAAA,O,6EACjB,iBAAYC,KAAZ,CAAkB,yCACd,yEAAMA,KAAN,GADc,MAqBZC,cArBY,CAqBK,SAACC,EAAD,CAAQ,CACpB;AACHJ,WAAW,CAACI,EAAD,CAAX,CACCC,IADD,CACO,SAACC,GAAD,CAAO,CACZ,GAAMC,CAAAA,OAAO,CAAG,MAAKC,KAAL,CAAWP,OAAX,CAAmBQ,MAAnB,CAA0B,SAACX,MAAD,CAAY,CAClD,MAAOA,CAAAA,MAAM,CAACY,GAAP,GAAeN,EAAtB,CACD,CAFa,CAAhB,CAGE,MAAKO,QAAL,CAAe,CAACV,OAAO,CAACM,OAAT,CAAf,EACH,CAND,EAOEK,KAPF,CAOS,SAACC,GAAD,CAAO,CACd,CARF,EASD,CAhCW,CAEd,MAAKL,KAAL,CAAa,CACbP,OAAO,CAAC,IADK,CAAb,CAFc,aAKf,C,iFACgB,iBACd;AACDF,YAAY,GACXM,IADD,CACO,SAACS,MAAD,CAAU,CACbC,OAAO,CAACC,GAAR,CAAY,aAAZ,CAA4BF,MAAM,CAACG,IAAnC,EACA,GAAMhB,CAAAA,OAAO,CAAGa,MAAM,CAACG,IAAP,CAAYR,MAAZ,CAAmB,SAACX,MAAD,CAAY,CAC3C,GAAGA,MAAM,CAACoB,WAAP,GAAuB,QAA1B,CAAmC,CAC/B,MAAOJ,CAAAA,MAAM,CAACG,IAAd,CACH,CACF,CAJa,CAAhB,CAIK,MAAI,CAACN,QAAL,CAAe,CAACV,OAAO,CAAPA,OAAD,CAAf,EACR,CARD,EASCW,KATD,CASQ,SAACO,KAAD,CAAS,CACbJ,OAAO,CAACC,GAAR,CAAY,cAAZ,CAA2BG,KAA3B,EACH,CAXD,EAYH,C,uCAaM,iBACL,GAAIC,CAAAA,UAAU,CAAG,iDAAjB,CACA,GAAG,KAAKZ,KAAL,CAAWP,OAAX,GAAuB,IAA1B,CAAgC,CAChCmB,UAAU,CAAE,KAAKZ,KAAL,CAAWP,OAAX,CAAmBoB,GAAnB,CAAwB,SAACpB,OAAD,CAAWqB,KAAX,CAAoB,CACpD,MACA,qBAAC,MAAD,EACA,EAAE,CAAErB,OAAO,CAACS,GADZ,CAEA,UAAU,CAAET,OAAO,CAACsB,UAFpB,CAGA,WAAW,CAAEtB,OAAO,CAACiB,WAHrB,CAIA,iBAAiB,CAAEjB,OAAO,CAACuB,iBAJ3B,CAKA,cAAc,CAAE,MAAI,CAACrB,cALrB,CAMA,GAAG,CAAEmB,KANL,EADA,CASH,CAVW,CAAZ,CAUG,CACL,MACI,4BAAK,SAAS,CAAC,SAAf,EACI,2CADJ,CAEI,0BAAI,SAAS,CAAC,UAAd,EACCF,UADD,CAFJ,CADJ,CAOD,C,qBAvDkCvB,KAAK,CAAC4B,S,SAAtBxB,O","sourcesContent":["//ALL  Tickets \nimport React from 'react';\nimport Ticket from './Ticket'\nimport { getAllTicket , closeTicket } from '../api';\nimport './Tickets.css'; \nexport default class Tickets extends React.Component{\n    constructor(props){\n        super(props)\n        this.state = {\n        Tickets:null, \n        };\n      }\n    componentDidMount(){\n         // Mack API call to det all the Ticket that not have closed state  \n        getAllTicket()\n        .then( (repose)=>{\n            console.log('repose.data' , repose.data )\n            const Tickets = repose.data.filter((Ticket) => {\n                if(Ticket.TicketState !== 'closed'){\n                    return repose.data\n                }\n              });this.setState( {Tickets} );\n        })\n        .catch( (error)=>{\n            console.log(' API error: ',error );\n        })\n    }\n          closeOneTicket = (id) => {\n               // Make an API Call to close a ticket\n            closeTicket(id)\n            .then( (res)=>{\n              const newList = this.state.Tickets.filter((Ticket) => {\n                  return Ticket._id !== id;\n                });\n                this.setState( {Tickets:newList} );\n            })\n             .catch( (err)=>{\n             })\n          }\n   render(){\n      let allTickets = <h3> No Tickets! :( </h3>\n      if(this.state.Tickets !== null ){\n      allTickets= this.state.Tickets.map( (Tickets , index)=> {\n          return(\n          <Ticket \n          id={Tickets._id}\n          TicketType={Tickets.TicketType}\n          TicketState={Tickets.TicketState}\n          TicketDescription={Tickets.TicketDescription}\n          closeOneTicket={this.closeOneTicket}\n          key={index} /> \n          );\n      })}\n    return(\n        <div className=\"content\">\n            <h2>ALL Ticket</h2>\n            <ul className=\"timeline\">\n            {allTickets}\n        </ul>\n        </div>);\n  }\n}"]},"metadata":{},"sourceType":"module"}