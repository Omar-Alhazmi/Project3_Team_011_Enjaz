{"ast":null,"code":"import _classCallCheck from\"/Users/mac/sei/projects/Project3_Team_011_Enjaz/enjaz-front-end/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/mac/sei/projects/Project3_Team_011_Enjaz/enjaz-front-end/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/mac/sei/projects/Project3_Team_011_Enjaz/enjaz-front-end/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/mac/sei/projects/Project3_Team_011_Enjaz/enjaz-front-end/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/mac/sei/projects/Project3_Team_011_Enjaz/enjaz-front-end/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from\"react\";import{getJwt}from\"./helper\";import{getInfo}from\"./decodeToken\";import{withRouter}from\"react-router-dom\";var AuthenticatedComponent=/*#__PURE__*/function(_Component){_inherits(AuthenticatedComponent,_Component);function AuthenticatedComponent(props){var _this;_classCallCheck(this,AuthenticatedComponent);_this=_possibleConstructorReturn(this,_getPrototypeOf(AuthenticatedComponent).call(this,props));_this.state={admin:undefined,user:undefined};return _this;}_createClass(AuthenticatedComponent,[{key:\"componentDidMount\",value:function componentDidMount(){var jwt=getJwt();var jwt1=getInfo().data.admin;// this function is responsible to check if the\n// token is equal to employee or adamant after\n// decrypting that token\nif(!jwt){this.setState({user:null,admin:null});return;}else if(jwt1===true){this.setState({admin:jwt});}else if(jwt1===false){this.setState({user:jwt});}}},{key:\"render\",value:function render(){return React.createElement(\"div\",null,this.state.admin!==undefined?this.props.children[1]:this.props.children[0]);}}]);return AuthenticatedComponent;}(Component);export default withRouter(AuthenticatedComponent);","map":{"version":3,"sources":["/Users/mac/sei/projects/Project3_Team_011_Enjaz/enjaz-front-end/src/components/login/AuthenticatedComponent.js"],"names":["React","Component","getJwt","getInfo","withRouter","AuthenticatedComponent","props","state","admin","undefined","user","jwt","jwt1","data","setState","children"],"mappings":"45BAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,OAASC,MAAT,KAAuB,UAAvB,CACA,OAASC,OAAT,KAAwB,eAAxB,CACA,OAASC,UAAT,KAA2B,kBAA3B,C,GAEMC,CAAAA,sB,gFACJ,gCAAYC,KAAZ,CAAmB,wDACjB,wFAAMA,KAAN,GAEA,MAAKC,KAAL,CAAa,CACXC,KAAK,CAAEC,SADI,CAEXC,IAAI,CAAED,SAFK,CAAb,CAHiB,aAOlB,C,gGAEmB,CAClB,GAAME,CAAAA,GAAG,CAAGT,MAAM,EAAlB,CACA,GAAIU,CAAAA,IAAI,CAAGT,OAAO,GAAGU,IAAV,CAAeL,KAA1B,CACA;AACA;AACA;AACA,GAAI,CAACG,GAAL,CAAU,CACR,KAAKG,QAAL,CAAc,CACZJ,IAAI,CAAE,IADM,CAEZF,KAAK,CAAE,IAFK,CAAd,EAIA,OACD,CAND,IAMO,IAAII,IAAI,GAAK,IAAb,CAAmB,CACxB,KAAKE,QAAL,CAAc,CACZN,KAAK,CAAEG,GADK,CAAd,EAGD,CAJM,IAIA,IAAIC,IAAI,GAAK,KAAb,CAAoB,CACzB,KAAKE,QAAL,CAAc,CACZJ,IAAI,CAAEC,GADM,CAAd,EAGD,CACF,C,uCACQ,CACP,MACE,gCAGG,KAAKJ,KAAL,CAAWC,KAAX,GAAqBC,SAArB,CACG,KAAKH,KAAL,CAAWS,QAAX,CAAoB,CAApB,CADH,CAEG,KAAKT,KAAL,CAAWS,QAAX,CAAoB,CAApB,CALN,CADF,CASD,C,oCA1CkCd,S,EA6CrC,cAAeG,CAAAA,UAAU,CAACC,sBAAD,CAAzB","sourcesContent":["import React, { Component } from \"react\";\nimport { getJwt } from \"./helper\";\nimport { getInfo } from \"./decodeToken\";\nimport { withRouter } from \"react-router-dom\";\n\nclass AuthenticatedComponent extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      admin: undefined,\n      user: undefined\n    };\n  }\n\n  componentDidMount() {\n    const jwt = getJwt();\n    let jwt1 = getInfo().data.admin;\n    // this function is responsible to check if the\n    // token is equal to employee or adamant after\n    // decrypting that token\n    if (!jwt) {\n      this.setState({\n        user: null,\n        admin: null\n      });\n      return;\n    } else if (jwt1 === true) {\n      this.setState({\n        admin: jwt\n      });\n    } else if (jwt1 === false) {\n      this.setState({\n        user: jwt\n      });\n    }\n  }\n  render() {\n    return (\n      <div>\n        {/* check if the state the admin doesn't equal undefined \n      then the permission we'll go to the second child   */}\n        {this.state.admin !== undefined\n          ? this.props.children[1]\n          : this.props.children[0]}\n      </div>\n    );\n  }\n}\n\nexport default withRouter(AuthenticatedComponent);\n"]},"metadata":{},"sourceType":"module"}