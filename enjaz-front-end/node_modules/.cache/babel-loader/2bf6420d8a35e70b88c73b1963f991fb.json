{"ast":null,"code":"var _jsxFileName = \"/Users/mac/sei/projects/Project3_Team_011_Enjaz/enjaz-front-end/src/components/Ticket/Tickets.js\";\n//ALL  Tickets \nimport React from 'react';\nimport Ticket from './Ticket';\nimport { getAllTicket, closeTicket } from '../api';\nimport './Tickets.css';\nexport default class Tickets extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.closeOneTicket = id => {\n      // Make an API Call to close a ticket\n      closeTicket(id).then(res => {\n        const newList = this.state.Tickets.filter(Ticket => {\n          return Ticket._id !== id;\n        });\n        this.setState({\n          Tickets: newList\n        });\n      }).catch(err => {});\n    };\n\n    this.state = {\n      Tickets: null\n    };\n  }\n\n  componentDidMount() {\n    // Mack API call to det all the Ticket that not have closed state  \n    getAllTicket().then(repose => {\n      console.log('repose.data', repose.data);\n      const Tickets = repose.data.filter(Ticket => {\n        if (Ticket.TicketState !== 'closed') {\n          return repose.data;\n        }\n      });\n      this.setState({\n        Tickets\n      });\n    }).catch(error => {\n      console.log(' API error: ', error);\n    });\n  }\n\n  render() {\n    let allTickets = React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41\n      },\n      __self: this\n    }, \" No Tickets! :( \");\n\n    if (this.state.Tickets !== null) {\n      allTickets = this.state.Tickets.map((Tickets, index) => {\n        return React.createElement(Ticket, {\n          id: Tickets._id,\n          TicketType: Tickets.TicketType,\n          TicketState: Tickets.TicketState,\n          TicketDescription: Tickets.TicketDescription,\n          closeOneTicket: this.closeOneTicket,\n          key: index,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 45\n          },\n          __self: this\n        });\n      });\n    }\n\n    return React.createElement(\"div\", {\n      className: \"content\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56\n      },\n      __self: this\n    }, \"ALL Ticket\"), React.createElement(\"ul\", {\n      className: \"timeline\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57\n      },\n      __self: this\n    }, allTickets));\n  }\n\n}","map":{"version":3,"sources":["/Users/mac/sei/projects/Project3_Team_011_Enjaz/enjaz-front-end/src/components/Ticket/Tickets.js"],"names":["React","Ticket","getAllTicket","closeTicket","Tickets","Component","constructor","props","closeOneTicket","id","then","res","newList","state","filter","_id","setState","catch","err","componentDidMount","repose","console","log","data","TicketState","error","render","allTickets","map","index","TicketType","TicketDescription"],"mappings":";AAAA;AACA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,MAAP,MAAmB,UAAnB;AACA,SAASC,YAAT,EAAwBC,WAAxB,QAA2C,QAA3C;AACA,OAAO,eAAP;AACA,eAAe,MAAMC,OAAN,SAAsBJ,KAAK,CAACK,SAA5B,CAAqC;AAChDC,EAAAA,WAAW,CAACC,KAAD,EAAO;AACd,UAAMA,KAAN;;AADc,SAqBZC,cArBY,GAqBMC,EAAD,IAAQ;AACpB;AACHN,MAAAA,WAAW,CAACM,EAAD,CAAX,CACCC,IADD,CACQC,GAAD,IAAO;AACZ,cAAMC,OAAO,GAAG,KAAKC,KAAL,CAAWT,OAAX,CAAmBU,MAAnB,CAA2Bb,MAAD,IAAY;AAClD,iBAAOA,MAAM,CAACc,GAAP,KAAeN,EAAtB;AACD,SAFa,CAAhB;AAGE,aAAKO,QAAL,CAAe;AAACZ,UAAAA,OAAO,EAACQ;AAAT,SAAf;AACH,OAND,EAOEK,KAPF,CAOUC,GAAD,IAAO,CACd,CARF;AASD,KAhCW;;AAEd,SAAKL,KAAL,GAAa;AACbT,MAAAA,OAAO,EAAC;AADK,KAAb;AAGD;;AACHe,EAAAA,iBAAiB,GAAE;AACd;AACDjB,IAAAA,YAAY,GACXQ,IADD,CACQU,MAAD,IAAU;AACbC,MAAAA,OAAO,CAACC,GAAR,CAAY,aAAZ,EAA4BF,MAAM,CAACG,IAAnC;AACA,YAAMnB,OAAO,GAAGgB,MAAM,CAACG,IAAP,CAAYT,MAAZ,CAAoBb,MAAD,IAAY;AAC3C,YAAGA,MAAM,CAACuB,WAAP,KAAuB,QAA1B,EAAmC;AAC/B,iBAAOJ,MAAM,CAACG,IAAd;AACH;AACF,OAJa,CAAhB;AAIK,WAAKP,QAAL,CAAe;AAACZ,QAAAA;AAAD,OAAf;AACR,KARD,EASCa,KATD,CASSQ,KAAD,IAAS;AACbJ,MAAAA,OAAO,CAACC,GAAR,CAAY,cAAZ,EAA2BG,KAA3B;AACH,KAXD;AAYH;;AAaFC,EAAAA,MAAM,GAAE;AACL,QAAIC,UAAU,GAAG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BAAjB;;AACA,QAAG,KAAKd,KAAL,CAAWT,OAAX,KAAuB,IAA1B,EAAgC;AAChCuB,MAAAA,UAAU,GAAE,KAAKd,KAAL,CAAWT,OAAX,CAAmBwB,GAAnB,CAAwB,CAACxB,OAAD,EAAWyB,KAAX,KAAoB;AACpD,eACA,oBAAC,MAAD;AACA,UAAA,EAAE,EAAEzB,OAAO,CAACW,GADZ;AAEA,UAAA,UAAU,EAAEX,OAAO,CAAC0B,UAFpB;AAGA,UAAA,WAAW,EAAE1B,OAAO,CAACoB,WAHrB;AAIA,UAAA,iBAAiB,EAAEpB,OAAO,CAAC2B,iBAJ3B;AAKA,UAAA,cAAc,EAAE,KAAKvB,cALrB;AAMA,UAAA,GAAG,EAAEqB,KANL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADA;AASH,OAVW,CAAZ;AAUG;;AACL,WACI;AAAK,MAAA,SAAS,EAAC,SAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADJ,EAEI;AAAI,MAAA,SAAS,EAAC,UAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACCF,UADD,CAFJ,CADJ;AAOD;;AAvDiD","sourcesContent":["//ALL  Tickets \nimport React from 'react';\nimport Ticket from './Ticket'\nimport { getAllTicket , closeTicket } from '../api';\nimport './Tickets.css'; \nexport default class Tickets extends React.Component{\n    constructor(props){\n        super(props)\n        this.state = {\n        Tickets:null, \n        };\n      }\n    componentDidMount(){\n         // Mack API call to det all the Ticket that not have closed state  \n        getAllTicket()\n        .then( (repose)=>{\n            console.log('repose.data' , repose.data )\n            const Tickets = repose.data.filter((Ticket) => {\n                if(Ticket.TicketState !== 'closed'){\n                    return repose.data\n                }\n              });this.setState( {Tickets} );\n        })\n        .catch( (error)=>{\n            console.log(' API error: ',error );\n        })\n    }\n          closeOneTicket = (id) => {\n               // Make an API Call to close a ticket\n            closeTicket(id)\n            .then( (res)=>{\n              const newList = this.state.Tickets.filter((Ticket) => {\n                  return Ticket._id !== id;\n                });\n                this.setState( {Tickets:newList} );\n            })\n             .catch( (err)=>{\n             })\n          }\n   render(){\n      let allTickets = <h3> No Tickets! :( </h3>\n      if(this.state.Tickets !== null ){\n      allTickets= this.state.Tickets.map( (Tickets , index)=> {\n          return(\n          <Ticket \n          id={Tickets._id}\n          TicketType={Tickets.TicketType}\n          TicketState={Tickets.TicketState}\n          TicketDescription={Tickets.TicketDescription}\n          closeOneTicket={this.closeOneTicket}\n          key={index} /> \n          );\n      })}\n    return(\n        <div className=\"content\">\n            <h2>ALL Ticket</h2>\n            <ul className=\"timeline\">\n            {allTickets}\n        </ul>\n        </div>);\n  }\n}"]},"metadata":{},"sourceType":"module"}