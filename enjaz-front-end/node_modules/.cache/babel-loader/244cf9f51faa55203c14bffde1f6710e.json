{"ast":null,"code":"import _classCallCheck from\"/Users/mac/sei/projects/Project3_Team_011_Enjaz/enjaz-front-end/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/mac/sei/projects/Project3_Team_011_Enjaz/enjaz-front-end/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/mac/sei/projects/Project3_Team_011_Enjaz/enjaz-front-end/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/mac/sei/projects/Project3_Team_011_Enjaz/enjaz-front-end/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/mac/sei/projects/Project3_Team_011_Enjaz/enjaz-front-end/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";//ALL  Tickets \nimport React from'react';import Ticket from'./Ticket';import{getAllTicket,closeTicket,deleteTicket}from'../api';import'./Tickets.css';var Tickets=/*#__PURE__*/function(_React$Component){_inherits(Tickets,_React$Component);function Tickets(props){var _this;_classCallCheck(this,Tickets);_this=_possibleConstructorReturn(this,_getPrototypeOf(Tickets).call(this,props));_this.deleteOneTicket=function(id){console.log('This Ticket ID to Delete 2',id);deleteTicket(id).then(function(res){console.log(\"The Ticket ID to Delete\".concat(id,\" , hasa been deleted\"));var newList=_this.state.Tickets.filter(function(Ticket){return Ticket._id!==id;});_this.setState({Tickets:newList});// this.setTickets(newList);\nconsole.log(' newList ==> deleteOneTicket : ',newList);}).catch(function(err){console.log(' fun closeClick deleteTicket ==>  ',err);});};_this.closeOneTicket=function(id){console.log('This Ticket ID to Delete',id);closeTicket(id).then(function(res){console.log(\"The Ticket ID to Delete\".concat(id,\" , hasa been deleted\"));var newList=_this.state.Tickets.filter(function(Ticket){return Ticket._id!==id;});_this.setState({Tickets:newList});// this.setTickets(newList);\nconsole.log(' newList ==>  ',newList);}).catch(function(err){console.log(' fun closeClick ==>  ',err);});};_this.state={Tickets:null};return _this;}_createClass(Tickets,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;// Mack API call \ngetAllTicket().then(function(repose){console.log('repose.data',repose.data);var Tickets=repose.data.filter(function(Ticket){if(Ticket.TicketState!=='closed'){return repose.data;}});_this2.setState({Tickets:Tickets});}).catch(function(error){console.log(' API error: ',error);});}// Make an API Call to Delete an Ticket\n},{key:\"render\",value:function render(){var _this3=this;var allTickets=React.createElement(\"h3\",null,\" No Tickets! :( \");if(this.state.Tickets!==null){allTickets=this.state.Tickets.map(function(Tickets,index){return React.createElement(Ticket,{id:Tickets._id,TicketType:Tickets.TicketType,TicketState:Tickets.TicketState,deleteOneTicket:_this3.deleteOneTicket,TicketDescription:Tickets.TicketDescription,closeOneTicket:_this3.closeOneTicket,key:index});});}return React.createElement(\"div\",{className:\"content\"},React.createElement(\"h2\",null,\"ALL Ticket\"),React.createElement(\"ul\",{className:\"all\"},allTickets));}}]);return Tickets;}(React.Component);export{Tickets as default};","map":{"version":3,"sources":["/Users/mac/sei/projects/Project3_Team_011_Enjaz/enjaz-front-end/src/components/Ticket/Tickets.js"],"names":["React","Ticket","getAllTicket","closeTicket","deleteTicket","Tickets","props","deleteOneTicket","id","console","log","then","res","newList","state","filter","_id","setState","catch","err","closeOneTicket","repose","data","TicketState","error","allTickets","map","index","TicketType","TicketDescription","Component"],"mappings":"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","sourcesContent":["//ALL  Tickets \nimport React from 'react';\nimport Ticket from './Ticket'\nimport { getAllTicket , closeTicket ,deleteTicket } from '../api';\nimport './Tickets.css'; \nexport default class Tickets extends React.Component{\n    constructor(props){\n        super(props)\n        this.state = {\n        Tickets:null, \n        };\n      }\n    componentDidMount(){\n        // Mack API call \n        getAllTicket()\n        .then( (repose)=>{\n            console.log('repose.data' , repose.data )\n            const Tickets = repose.data.filter((Ticket) => {\n                if(Ticket.TicketState !== 'closed'){\n                    return repose.data\n                }\n              });this.setState( {Tickets} );\n        })\n        .catch( (error)=>{\n            console.log(' API error: ',error );\n        })\n    }\n    // Make an API Call to Delete an Ticket\n    deleteOneTicket = (id) => {\n        console.log('This Ticket ID to Delete 2', id);\n        deleteTicket(id)\n            .then((res) => {\n                console.log(`The Ticket ID to Delete${id} , hasa been deleted`);\n                const newList = this.state.Tickets.filter((Ticket) => {\n                    return Ticket._id !== id;\n                });\n                this.setState({ Tickets: newList });\n                // this.setTickets(newList);\n                console.log(' newList ==> deleteOneTicket : ', newList);\n            })\n            .catch((err) => {\n                console.log(' fun closeClick deleteTicket ==>  ', err);\n            })\n    }\n          // Make an API Call to Delete an Ticket\n          closeOneTicket = (id) => {\n            console.log('This Ticket ID to Delete', id);\n            closeTicket(id)\n            .then( (res)=>{\n              console.log(`The Ticket ID to Delete${id} , hasa been deleted`);\n              const newList = this.state.Tickets.filter((Ticket) => {\n                  return Ticket._id !== id;\n                });\n                this.setState( {Tickets:newList} );\n                // this.setTickets(newList);\n                console.log(' newList ==>  ', newList);\n            })\n             .catch( (err)=>{\n              console.log(' fun closeClick ==>  ', err);\n             })\n          }\n   render(){\n      let allTickets = <h3> No Tickets! :( </h3>\n      if(this.state.Tickets !== null ){\n      allTickets= this.state.Tickets.map( (Tickets , index)=> {\n          return(\n          <Ticket \n          id={Tickets._id}\n          TicketType={Tickets.TicketType}\n          TicketState={Tickets.TicketState}\n          deleteOneTicket={this.deleteOneTicket}\n          TicketDescription={Tickets.TicketDescription}\n          closeOneTicket={this.closeOneTicket}\n          key={index} /> \n          );\n      })}\n    return(\n        <div className=\"content\">\n            <h2>ALL Ticket</h2>\n            <ul className=\"all\">\n            {allTickets}\n        </ul>\n        </div>);\n  }\n}"]},"metadata":{},"sourceType":"module"}